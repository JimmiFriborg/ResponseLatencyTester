# Hardware Latency Tester v3.1 - Enhanced Axis Analytics

## ğŸ¯ What's New in Version 3.1

### 1. **Axis Statistics Display**
When grouped by axis, each group now shows:
- **Minimum latency** (blue)
- **Average latency** (green)  
- **Maximum latency** (orange)
- **Pass rate percentage** with ratio (e.g., 85.7% (6/7))
- **Error count** for unmatched markers
- **Outlier detection** with warning indicator

### 2. **Enhanced Editing in Grouped View**
- Full editing capabilities when grouped by axis
- Edit times, labels, stages, and notes
- Delete individual entries
- All changes persist across view switches

### 3. **Updated Marker System**

#### Color Definitions:
- ğŸŸ¡ **Yellow** = Identifier Markers
  - Format: `"AB6 Single Tag1.0 (X+)"`
  - Defines: AB number, test descriptor, tag version, axis/direction
  
- ğŸ”´ **Red** = Error Zone Markers
  - Marks sections to exclude from statistics
  - Shows in overview but doesn't affect calculations
  - Toggle on/off to mark error zones
  
- ğŸŸ¢ **Green** = TagOn Action Marker
  - Format: `"TagOn #1"`
  - Triggers tag placement action
  
- ğŸ©· **Pink** = TagOn Experience Activation
  - Pairs with Green marker
  - Measures activation latency
  
- ğŸ”µ **Cyan** = TagOff Action Marker
  - Format: `"TagOff #23"`
  - Triggers tag removal action
  
- ğŸ‹ **Lemon** = TagOff Experience Activation
  - Pairs with Cyan marker
  - Measures removal response latency

#### Action Marker Format:
```
Tag[Action] #[TestRun]

Examples:
- TagOn #1
- TagOff #1
- TagOnActivation #23
```

### 4. **Outlier Detection & Highlighting**
- Automatic outlier detection using IQR method
- Outliers marked with âš  symbol
- Outlier count shown in axis header
- Highlighted in yellow when detected

### 5. **Exclusion Tracking**
- Items in red error zones excluded from statistics
- "(excluded)" label shows on excluded items
- Main statistics shows count of excluded items
- Axis statistics only calculate from valid data

## ğŸ“Š **Axis Statistics Panel**

Each axis group displays comprehensive metrics:

```
Axis: X+ (15 events)
Min: 1.233s | Avg: 1.567s | Max: 2.100s | Pass Rate: 86.7% (13/15) | Errors: 2
âš  2 outlier(s) detected
```

### Metrics Explained:
- **Events**: Total markers in this axis
- **Min/Avg/Max**: Latency statistics (excludes errors)
- **Pass Rate**: Percentage meeting criteria (passed/total)
- **Errors**: Unmatched or error markers
- **Outliers**: Statistical anomalies flagged for review

## ğŸ”„ **Error Zone Handling**

### Red Marker Behavior:
1. **First red marker**: Start exclusion zone
2. **Second red marker**: End exclusion zone
3. All markers between red zones excluded from stats
4. Excluded items still visible but marked "(excluded)"

### Example Timeline:
```
Green #1 â†’ Pink        âœ… Included (1.5s)
Red Marker (Start)     ğŸ”´ Zone begins
Green #2 â†’ Pink        âŒ Excluded
Green #3 â†’ Pink        âŒ Excluded  
Red Marker (End)       ğŸ”´ Zone ends
Green #4 â†’ Pink        âœ… Included (1.3s)
```

## ğŸ’¡ **Usage Tips**

### For Axis Comparison:
1. Enable "Group by Axis" checkbox
2. Review statistics header for each axis
3. Check pass rates to identify problematic axes
4. Look for outliers (âš  symbol) indicating inconsistencies

### For Error Management:
1. Place red markers around known bad data
2. Excluded sections won't affect statistics
3. Still visible for documentation purposes
4. Toggle red markers to adjust exclusion zones

### For Best Analysis:
1. Sort by latency to find extremes
2. Group by axis for directional analysis
3. Enable pass/fail highlighting
4. Review outliers for quality issues

## ğŸ“ˆ **Statistics Calculation**

### Included in Statistics:
- âœ… Paired events (Greenâ†’Pink, Cyanâ†’Lemon)
- âœ… Valid latency measurements
- âœ… Events outside error zones

### Excluded from Statistics:
- âŒ Unmatched markers (no pair)
- âŒ Events within red marker zones
- âŒ Markers labeled as "Error"
- âŒ Invalid or missing latencies

### Outlier Detection:
- Uses Interquartile Range (IQR) method
- Lower bound: Q1 - 1.5 Ã— IQR
- Upper bound: Q3 + 1.5 Ã— IQR
- Flagged but included in statistics

## ğŸ¨ **Visual Indicators**

### Row Colors (with highlighting enabled):
- ğŸŸ¢ **Light Green**: Passed latency criteria
- ğŸ”´ **Light Red**: Failed latency criteria
- ğŸŸ¡ **Light Yellow**: Error or unmatched

### Special Markers:
- âš  **Warning**: Outlier detected
- â†’ **Arrow**: Paired marker connection
- (excluded) **Label**: In error zone
- Run-# **Stage**: Test run identifier

## ğŸ“ **Example Workflow**

### 1. Import with New Format:
```
Yellow: AB17 Multi Tag2.0 (Z-)
Green:  TagOn #1
Pink:   [activation marker]
Red:    Error zone start
Green:  TagOn #2 (bad data)
Pink:   [activation marker]
Red:    Error zone end
Cyan:   TagOff #1
Lemon:  [activation marker]
```

### 2. Analysis Results:
- TagOn #1: Included, 1.5s latency âœ…
- TagOn #2: Excluded (in error zone) âŒ
- TagOff #1: Included, 1.3s latency âœ…
- Statistics calculated only from #1 and #3

### 3. Axis View Shows:
```
Axis: Z- (3 events)
Min: 1.3s | Avg: 1.4s | Max: 1.5s | Pass Rate: 100% (2/2)
Note: 1 excluded from statistics
```

## ğŸš€ **Performance Benefits**

- **Cleaner Statistics**: Exclude bad data without deletion
- **Axis Comparison**: Instant performance comparison across directions
- **Quality Control**: Outlier detection highlights inconsistencies
- **Flexible Analysis**: Edit and reorganize without losing data
- **Complete Visibility**: See all data while calculating from valid subset

---
*Hardware Latency Tester v3.1 - Professional testing with intelligent data filtering*